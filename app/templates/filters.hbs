<nav class="filters">
  <div class="ui link vertical menu">
    {{#ui-accordion class="ui accordion"}}
      <h3 class="ui parent active title item">
        <i class="dropdown right floated icon"></i>
        Trailmap Filters
      </h3>

      <div class="ui parent {{if (not media.isMobile) 'active'}} content">
        {{#ui-accordion exclusive=true}}
          <a class="ui child attached title item">
            {{ui-checkbox
              class='parent-checkbox'
              label='Bike'
              checked=(or applicationController.protected applicationController.shared applicationController.bike_lane)
              onChange=(action 'toggleAll' (array 'protected' 'shared' 'bike_lane'))}}
            <i class="dropdown icon"></i>
          </a>
          <div class="child content link menu">
            <a class="item" {{action (toggle 'protected' applicationController)}}>
              {{ui-checkbox
                label='Protected Bike Lane'
                checked=applicationController.protected}}
              {{#if protected}}
                <i class="minus icon" style='color: #7f3193;'></i>
              {{/if}}
            </a>
            <a class="item" {{action (toggle 'shared' applicationController)}}>
              {{ui-checkbox
                label='Shared Lane Marking'
                checked=applicationController.shared}}
              {{#if shared}}
                <i class="minus icon" style='color: #82C5EC;'></i>
              {{/if}}
            </a>
            <a class="item" {{action (toggle 'bike_lane' applicationController)}}>
              {{ui-checkbox
                label='Bike Lane'
                checked=applicationController.bike_lane}}
              {{#if bike_lane}}
                <i class="minus icon" style='color: #0874b9;'></i>
              {{/if}}
            </a>
          </div>
        {{/ui-accordion}}
        <a class="item" {{action (toggle 'walk' applicationController)}}>
          {{ui-checkbox
            label='Walk'
            checked=applicationController.walk}}
          {{#if walk}}
            <i class="minus icon" style='color: #db813f'></i>
          {{/if}}
        </a>
        <a class="item" {{action (toggle 'multi_use_path' applicationController)}}>
          {{ui-checkbox
            label='Multi-Use Path'
            checked=applicationController.multi_use_path}}
          {{#if multi_use_path}}
            <i class="minus icon" style='color: #38A800;'></i>
          {{/if}}
        </a>
        {{#if applicationController.multi_use_path}}
          <div class="menu">
            <div class="item legend">
              Unimproved <i class="minus icon" style='color: #a87000;'></i>
            </div>
          </div>
        {{/if}}
        <a class="item" {{action (toggle 'landline' applicationController)}}>
          {{ui-checkbox
            label='LandLine (Metro Greenway Network)'
            checked=applicationController.landline}}
        </a>

        {{#if applicationController.landline}}
          <div class="menu">
            <div class="item legend">
              Greeway Route <i class="minus icon" style='color: #ffcc00'></i>
            </div>
            <div class="item legend">
              Regional Walking Trail <i class="minus icon" style='color: #c696b7'></i>
            </div>
            <div class="item legend">
              Combination <i class="minus icon" style='color: #d6a583'></i>
            </div>
          </div>
        {{/if}}

        {{#ui-accordion exclusive=true}}
          <a class="ui child active attached title item">
            Basemaps
            <i class="dropdown icon"></i>
          </a>
          <div class="child active content">
            {{#ui-radio
              class="item icon"
              name="default"
              label="Default"
              value="default"
              current=applicationController.basemap
              onChange=(action (mut applicationController.basemap) )}}
            {{/ui-radio}}
            {{#ui-radio
              class="item icon"
              name="osm"
              label="Open Street Map"
              value="osm"
              current=applicationController.basemap
              onChange=(action (mut applicationController.basemap) )}}
            {{/ui-radio}}
            {{#ui-radio
              class="item icon"
              name="satellite"
              label="Satellite"
              value="satellite"
              current=applicationController.basemap
              onChange=(action (mut applicationController.basemap) )}}
            {{/ui-radio}}
          </div>
        {{/ui-accordion}}
        <div class="item">
          {{ui-checkbox class="ui toggle checkbox" onChange=(action (mut applicationController.proposed)) checked=applicationController.proposed label="Proposed Trails"}}
          {{#if applicationController.proposed}}
            <i class="ellipsis horizontal icon"></i>
          {{/if}}
        </div>
      </div>
    {{/ui-accordion}}
  </div>
</nav>